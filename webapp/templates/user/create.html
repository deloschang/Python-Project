{# Logged in User #}
{# Create page with Generator and URL upload #}

{% extends 'base.html' %}

{% block content %}

  {% if memes %}
      {% for memes in memes %}
        <ul>
          <li>hello</li>
          <!--<li><a href="{{ document.docfile.url }}">{{ document.docfile.name }}</a></li>-->
        </ul>
      {% endfor %}
  {% else %}
    <p>Nothing here</p>
  {% endif %}
  
  <body>
    <div id="fb-root"></div>
    <!-- Upload form. -->
    <form action="{% url create %}" method="post" enctype="multipart/form-data">
      {% csrf_token %}
      <p>{{ form.non_field_errors }}</p>
      <p>{{ form.docfile.label_tag }} {{ form.docfile.help_text }}</p>
      <p>
        {{ form.image.errors }}
        {{ form.image }}
      </p>
      <p><input type="submit" value="Upload" /></p>
    </form>

      {# User has now logged in #}

      {# Should now show album page when user is logged in #}
      
        {# Library Support for Macromeme #}
      <script type="text/javascript" src="http://connect.facebook.net/en_US/all.js"></script>
      <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/swfobject/2.2/swfobject.js"></script>
      <script type="text/javascript">
        // For version detection, set to min. required Flash Player version, or 0 (or 0.0.0), for no version detection. 
        var swfVersionStr = "11.2.0";
        // To use express install, set to playerProductInstall.swf, otherwise the empty string. 
        var xiSwfUrlStr = "playerProductInstall.swf";
        var flashvars = {};
        flashvars.appId = "479174175436255";
        var params = {};
        params.quality = "high";
        params.bgcolor = "#FFFFFF";
        params.allowscriptaccess = "sameDomain";
        params.allowfullscreen = "true";
        var attributes = {};
        attributes.id = "macromeme";
        attributes.name = "macromeme";
        attributes.align = "middle";
        swfobject.embedSWF(
        "{{ STATIC_URL }}macromeme.swf", "flashContent", 
            "100%", "100%", 
            swfVersionStr, xiSwfUrlStr, 
            flashvars, params, attributes);
        // JavaScript enabled so display the flashContent div in case it is not replaced with a swf object.
            swfobject.createCSS("#flashContent", "display:block;text-align:left");
      </script>

      <br>
      <div id="flashContent">
        <p>
          to view this page ensure that adobe flash player version 11.2.0 or greater is installed. 
        </p>
        <script type="text/javascript"> 
          var pagehost = ((document.location.protocol == "https:") ? "https://" : "http://"); 
          document.write("<a href='http://www.adobe.com/go/getflashplayer'><img src='" 
                         + pagehost + "www.adobe.com/images/shared/download_buttons/get_flash_player.gif' alt='get adobe flash player' /></a>" ); 
        </script> 
      </div>
    </body>

{% endblock %}
