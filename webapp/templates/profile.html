{# Logged in User PROFILE PAGE #}
{# Default profile and album page that logged-in user sees #}
{# Authentication handled in views.index #}

{% extends 'base.html' %}

{# displays new/uncategorized memes to profile for categorization#}
{% block content %}

  <h1><div>Albums:</div></h1>
 Create new album

  {# Insert flash message when inviting friend #}
  {% if messages %}
  <ul class="messages">
      {% for message in messages %}
      <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
      {% endfor %}
  </ul>
  {% endif %}

  <div>
    <form action="{% url add_experience %}" method="post">
      {% csrf_token %}
        {{ addexperienceform.title }}
      <input type="submit" value="Submit" />
    </form>
  </div>

  {# Displays existing experiences #}
    {% if experiences %}
      {% for experiences in experiences %}
        <ul>
          <li><a href="{% url webapp.views.show_experience experiences.pk %}" class="experiences_list" id="{{ experiences.pk }}" style="font-size:20px;"> {{ experiences.title }} </a>
            ({{ experiences.meme_set.count }} memes)
            <a href="{% url webapp.views.delete_album experiences.pk %}">Delete</a>
            <div>
              with
              {% for creator in experiences.creator.all %}
                <a href="/{{ creator.get_profile.url_username }}/">{{ creator.username }}</a> 
              
                {% endfor %}
            </div>
          </li>
            {# Temporary #}
            <br><br>
            {# end #}

        </ul>
      {% endfor %}
    {% else %}
      No experience albums
    {% endif %}

 <div>-----------------</div> 

  <h1><div>Uncategorized Memes: (Drag into an album)</div></h1>
  {% if memes %}
    <div id="container">
        {% for memes in memes %}
          <div class="masonryImage">
            <img src="{{ MEDIA_URL }}/{{ memes.image }}" id="{{ memes.pk }}"/>
          </div>
        {% endfor %}
    </div>
    {#  <div style="float:left;"><a href="{% url webapp.views.delete_meme memes.pk %}">x</a></div>#}

  {% endif %}

  {# External CSS to be moved #}
  <style>
    .over {
      border: 2px dashed #000;
    }
  </style>

  {# Load Javascript files #}
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
  <script src="{{ STATIC_URL }}js/mainjs.js"></script>

  {# Masonry for Pinterest Design #}
  <script src="{{ STATIC_URL }}js/jquery.masonry.min.js"></script>
{% endblock %}
